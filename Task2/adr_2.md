### **Название задачи:**

MVP платформы мониторинга скота — Альтернативное решение

### **Автор:**

Pavel Shatskikh

### **Дата:**

2025-07-20

### **Функциональные требования**

(Идентичны основному решению.)

### **Нефункциональные требования**

(Идентичны основному решению.)

### **Решение**

Альтернативное решение основано на **толстых агентах** на фермах с локальной аналитикой и минимальным центральным
сервером.  
Архитектура представлена в C2-диаграмме: [C2](c2_2.puml).

**Ключевая логика:**

- Большая часть вычислений выполняется локально.
- Централизованная часть хранит только сводные данные и отчёты.
- Меньшая зависимость от стабильного интернет-соединения.

**Технологический стек:**

- **Агенты:** Rust (основная аналитика и управление).
- **Центральный сервер:** Kotlin + Spring Boot.
- **Хранилище данных:** PostgreSQL для сводных данных, локально — InfluxDB или SQLite.
- **Очереди:** MQTT или Kafka для периодической передачи данных.
- **Уведомления:** Push/SMS/Email через локальные интеграции.

### **Альтернативы**

- Централизованный сервер с тонкими агентами (см. ADR основного решения).

### **Компромиссы и риски**

- Более сложное обновление и сопровождение агентов.
- Увеличенные требования к железу на фермах.
- Сложнее масштабировать под SaaS.
- Более устойчивая работа при плохом интернете.
